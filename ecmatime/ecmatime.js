var $apeiro=(()=>{var St=Object.defineProperty;var Rt=Object.getOwnPropertyDescriptor;var zt=Object.getOwnPropertyNames;var Vt=Object.prototype.hasOwnProperty;var Ut=(e,t)=>{for(var r in t)St(e,r,{get:t[r],enumerable:!0})},Lt=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of zt(t))!Vt.call(e,n)&&n!==r&&St(e,n,{get:()=>t[n],enumerable:!(a=Rt(t,n))||a.enumerable});return e};var Bt=e=>Lt(St({},"__esModule",{value:!0}),e);var Gt={};Ut(Gt,{Decoder:()=>Decoder,Encoder:()=>Encoder,step:()=>step});class Decoder{ctx=null;BY_TAG={};evalInContext(src){const evalFunction=()=>eval(src);return evalFunction.call(this.ctx)}decodeObject(e){let t={};return Object.keys(e.value).forEach(r=>{t[r]=this.decodeValue(e.value[r])}),this.BY_TAG[e.tag]=t,t}decodeFunction(e){let t=this.evalInContext(`const fn = ${e.src}; fn`);return this.BY_TAG[e.tag]=t,t}decodeClassDefinition(e){let t=this.evalInContext(`let fn = ${e.src}; fn`);return this.BY_TAG[e.tag]=t,t}decodeClassInstance(e){const t={};Object.keys(e.value).forEach(a=>{t[a]=this.decodeValue(e.value[a])});let r=this.decodeValue(e.constructor);if(r===void 0)throw new Error("failed to deserialize "+JSON.stringify(e));return Object.setPrototypeOf(t,r.prototype),t}decodeValue(e){if(e===void 0)throw new Error("attempting to decode undefined");if(e.type==="number")return e.value;if(e.type==="string")return e.value;if(e.type==="boolean")return e.value;if(e.type==="object")return this.decodeObject(e);if(e.type==="object_ref")return this.BY_TAG[e.tag];if(e.type==="function")return this.decodeFunction(e);if(e.type==="function_ref")return this.BY_TAG[e.tag];if(e.type==="class_definition")return this.decodeClassDefinition(e);if(e.type==="class_instance")return this.decodeClassInstance(e);if(e.type==="class_definition_ref")return this.BY_TAG[e.tag];throw new Error("cannot decode "+e)}decode(e,t){this.ctx=t,this.BY_TAG={};const r=JSON.parse(e);if(r.type!=="object")throw new Error("root must be an object");return this.decodeValue(r)}}const TAG=Symbol("APEIRO_TAG");class Encoder{id=0;encodeClassDefinition(t){return this.assignTag(t)?{type:"class_definition",src:t.toString(),tag:t[TAG]}:{type:"class_definition_ref",tag:t[TAG]}}encodeFunction(t){return t[TAG]===void 0?(t[TAG]=this.id,this.id++,{type:"function",tag:t[TAG],src:t.toString()}):{type:"function_ref",tag:t[TAG]}}assignTag(t){return t[TAG]===void 0?(t[TAG]=this.id,this.id++,!0):!1}encodeObject(t){if(!this.assignTag(t))return{type:"object_ref",tag:t[TAG]};const r={};return Object.keys(t).forEach(a=>{r[a]=this.encodeValue(t[a])}),{type:"object",value:r,tag:t[TAG]}}encodeNumber(t){return{type:"number",value:t}}encodeString(t){return{type:"string",value:t}}encodeBoolean(t){return{type:"boolean",value:t}}encodeClassInstance(t){const r={};return Object.keys(t).forEach(a=>{r[a]=this.encodeValue(t[a])}),{type:"class_instance",constructor:this.encodeClassDefinition(t.constructor),value:r}}encodeValue(t){if(typeof t=="number")return this.encodeNumber(t);if(typeof t=="string")return this.encodeString(t);if(typeof t=="boolean")return this.encodeBoolean(t);if(isObject(t))return this.encodeObject(t);if(isFunction(t))return this.encodeFunction(t);if(isClassInstance(t))return this.encodeClassInstance(t);if(isClassDefinition(t))return this.encodeClassDefinition(t);if(typeof t>"u")return{type:"undefined"};throw new Error("unsupported type "+typeof t+" at key "+key)}cleanValue(t){(typeof t=="object"||typeof t=="function")&&(delete t[TAG],Object.keys(t).forEach(r=>{this.cleanValue(t[r])}))}encode(t){if(this.id=0,typeof t!="object")throw new Error("root must be an object");let r=this.encodeValue(t);return this.cleanValue(t),JSON.stringify(r)}}function isObject(e){return typeof e=="object"&&e.constructor===Object}function isClassInstance(e){return typeof e=="object"&&e.constructor!==Object}function isFunction(e){return typeof e=="function"&&e.toString().substring(0,5)!=="class"}function isClassDefinition(e){return typeof e=="function"&&e.toString().substring(0,5)==="class"}var x;(function(e){function t(a){throw new Error}e.assertNever=t,e.arrayToEnum=a=>{let n={};for(let o of a)n[o]=o;return n},e.getValidEnumValues=a=>{let n=e.objectKeys(a).filter(i=>typeof a[a[i]]!="number"),o={};for(let i of n)o[i]=a[i];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(n){return a[n]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let n=[];for(let o in a)Object.prototype.hasOwnProperty.call(a,o)&&n.push(o);return n},e.find=(a,n)=>{for(let o of a)if(n(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,n=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(n)}e.joinValues=r})(x||(x={}));var u=x.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),V=e=>{switch(typeof e){case"undefined":return u.undefined;case"string":return u.string;case"number":return isNaN(e)?u.nan:u.number;case"boolean":return u.boolean;case"function":return u.function;case"bigint":return u.bigint;case"object":return Array.isArray(e)?u.array:e===null?u.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?u.promise:typeof Map<"u"&&e instanceof Map?u.map:typeof Set<"u"&&e instanceof Set?u.set:typeof Date<"u"&&e instanceof Date?u.date:u.object;default:return u.unknown}},c=x.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),be=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),N=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(n){return n.message},r={_errors:[]},a=n=>{for(let o of n.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let i=r,l=0;for(;l<o.path.length;){let m=o.path[l];l===o.path.length-1?(i[m]=i[m]||{_errors:[]},i[m]._errors.push(t(o))):i[m]=i[m]||{_errors:[]},i=i[m],l++}}};return a(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,null,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},r=[];for(let a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};N.create=e=>new N(e);var se=(e,t)=>{let r;switch(e.code){case c.invalid_type:e.received===u.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case c.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected)}`;break;case c.unrecognized_keys:r=`Unrecognized key(s) in object: ${x.joinValues(e.keys,", ")}`;break;case c.invalid_union:r="Invalid input";break;case c.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${x.joinValues(e.options)}`;break;case c.invalid_enum_value:r=`Invalid enum value. Expected ${x.joinValues(e.options)}, received '${e.received}'`;break;case c.invalid_arguments:r="Invalid function arguments";break;case c.invalid_return_type:r="Invalid function return type";break;case c.invalid_date:r="Invalid date";break;case c.invalid_string:e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case c.too_small:e.type==="array"?r=`Array must contain ${e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be greater than ${e.inclusive?"or equal to ":""}${e.minimum}`:r="Invalid input";break;case c.too_big:e.type==="array"?r=`Array must contain ${e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be less than ${e.inclusive?"or equal to ":""}${e.maximum}`:r="Invalid input";break;case c.custom:r="Invalid input";break;case c.invalid_intersection_types:r="Intersection results could not be merged";break;case c.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;default:r=t.defaultError,x.assertNever(e)}return{message:r}},ne=se,we=e=>{ne=e},ie=e=>{let{data:t,path:r,errorMaps:a,issueData:n}=e,o=[...r,...n.path||[]],i={...n,path:o},l="",m=a.filter(U=>!!U).slice().reverse();for(let U of m)l=U(i,{data:t,defaultError:l}).message;return{...n,path:o,message:n.message||l}},ke=[];function p(e,t){let r=ie({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,ne,se].filter(a=>!!a)});e.common.issues.push(r)}var b=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let a of t){if(a.status==="aborted")return f;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let a of t)r.push({key:await a.key,value:await a.value});return b.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let a of t){let{key:n,value:o}=a;if(n.status==="aborted"||o.status==="aborted")return f;n.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||a.alwaysSet)&&(r[n.value]=o.value)}return{status:e.value,value:r}}},f=Object.freeze({status:"aborted"}),Te=e=>({status:"dirty",value:e}),w=e=>({status:"valid",value:e}),de=e=>e.status==="aborted",le=e=>e.status==="dirty",oe=e=>e.status==="valid",pe=e=>typeof Promise!==void 0&&e instanceof Promise,_;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(_||(_={}));var T=class{constructor(e,t,r,a){this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._path.concat(this._key)}},fe=(e,t)=>{if(oe(t))return{success:!0,data:t.value};{if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");let r=new N(e.common.issues);return{success:!1,error:r}}};function v(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:a,description:n}=e;if(t&&(r||a))throw new Error(`Can't use "invalid" or "required" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(o,i)=>o.code!=="invalid_type"?{message:i.defaultError}:typeof i.data>"u"&&a?{message:a}:e.invalid_type_error?{message:e.invalid_type_error}:{message:i.defaultError},description:n}}var y=class{constructor(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return V(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:V(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new b,ctx:{common:e.parent.common,data:e.data,parsedType:V(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(pe(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let a={common:{issues:[],async:(r=t?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:V(e)},n=this._parseSync({data:e,path:a.path,parent:a});return fe(a,n)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:V(e)},a=this._parse({data:e,path:[],parent:r}),n=await(pe(a)?a:Promise.resolve(a));return fe(r,n)}refine(e,t){let r=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,n)=>{let o=e(a),i=()=>n.addIssue({code:c.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,t){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof t=="function"?t(r,a):t),!1))}_refinement(e){return new E({schema:this,typeName:h.ZodEffects,effect:{type:"refinement",refinement:e}})}optional(){return k.create(this)}nullable(){return R.create(this)}nullish(){return this.optional().nullable()}array(){return S.create(this)}promise(){return z.create(this)}or(e){return $.create([this,e])}and(e){return D.create(this,e)}transform(e){return new E({schema:this,typeName:h.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new ae({innerType:this,defaultValue:t,typeName:h.ZodDefault})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Se=/^c[^\s-]{8,}$/i,Oe=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Ee=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,j=class extends y{constructor(){super(...arguments),this._regex=(e,t,r)=>this.refinement(a=>e.test(a),{validation:t,code:c.invalid_string,..._.errToObj(r)}),this.nonempty=e=>this.min(1,_.errToObj(e)),this.trim=()=>new j({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._getType(e)!==u.string){let a=this._getOrReturnCtx(e);return p(a,{code:c.invalid_type,expected:u.string,received:a.parsedType}),f}let t=new b,r;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(r=this._getOrReturnCtx(e,r),p(r,{code:c.too_small,minimum:a.value,type:"string",inclusive:!0,message:a.message}),t.dirty());else if(a.kind==="max")e.data.length>a.value&&(r=this._getOrReturnCtx(e,r),p(r,{code:c.too_big,maximum:a.value,type:"string",inclusive:!0,message:a.message}),t.dirty());else if(a.kind==="email")Ee.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"email",code:c.invalid_string,message:a.message}),t.dirty());else if(a.kind==="uuid")Oe.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"uuid",code:c.invalid_string,message:a.message}),t.dirty());else if(a.kind==="cuid")Se.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"cuid",code:c.invalid_string,message:a.message}),t.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),p(r,{validation:"url",code:c.invalid_string,message:a.message}),t.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"regex",code:c.invalid_string,message:a.message}),t.dirty())):a.kind==="trim"?e.data=e.data.trim():x.assertNever(a);return{status:t.value,value:e.data}}_addCheck(e){return new j({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,..._.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,..._.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,..._.errToObj(t)})}length(e,t){return this.min(e,t).max(e,t)}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get minLength(){let e=-1/0;return this._def.checks.map(t=>{t.kind==="min"&&(e===null||t.value>e)&&(e=t.value)}),e}get maxLength(){let e=null;return this._def.checks.map(t=>{t.kind==="max"&&(e===null||t.value<e)&&(e=t.value)}),e}};j.create=e=>new j({checks:[],typeName:h.ZodString,...v(e)});function Ne(e,t){let r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,n=r>a?r:a,o=parseInt(e.toFixed(n).replace(".","")),i=parseInt(t.toFixed(n).replace(".",""));return o%i/Math.pow(10,n)}var Z=class extends y{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._getType(e)!==u.number){let a=this._getOrReturnCtx(e);return p(a,{code:c.invalid_type,expected:u.number,received:a.parsedType}),f}let t,r=new b;for(let a of this._def.checks)a.kind==="int"?x.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),p(t,{code:c.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),p(t,{code:c.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),p(t,{code:c.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?Ne(e.data,a.value)!==0&&(t=this._getOrReturnCtx(e,t),p(t,{code:c.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):x.assertNever(a);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,r,a){return new Z({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:_.toString(a)}]})}_addCheck(e){return new Z({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int")}};Z.create=e=>new Z({checks:[],typeName:h.ZodNumber,...v(e)});var B=class extends y{_parse(e){if(this._getType(e)!==u.bigint){let t=this._getOrReturnCtx(e);return p(t,{code:c.invalid_type,expected:u.bigint,received:t.parsedType}),f}return w(e.data)}};B.create=e=>new B({typeName:h.ZodBigInt,...v(e)});var J=class extends y{_parse(e){if(this._getType(e)!==u.boolean){let t=this._getOrReturnCtx(e);return p(t,{code:c.invalid_type,expected:u.boolean,received:t.parsedType}),f}return w(e.data)}};J.create=e=>new J({typeName:h.ZodBoolean,...v(e)});var Y=class extends y{_parse(e){if(this._getType(e)!==u.date){let t=this._getOrReturnCtx(e);return p(t,{code:c.invalid_type,expected:u.date,received:t.parsedType}),f}if(isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return p(t,{code:c.invalid_date}),f}return{status:"valid",value:new Date(e.data.getTime())}}};Y.create=e=>new Y({typeName:h.ZodDate,...v(e)});var H=class extends y{_parse(e){if(this._getType(e)!==u.undefined){let t=this._getOrReturnCtx(e);return p(t,{code:c.invalid_type,expected:u.undefined,received:t.parsedType}),f}return w(e.data)}};H.create=e=>new H({typeName:h.ZodUndefined,...v(e)});var K=class extends y{_parse(e){if(this._getType(e)!==u.null){let t=this._getOrReturnCtx(e);return p(t,{code:c.invalid_type,expected:u.null,received:t.parsedType}),f}return w(e.data)}};K.create=e=>new K({typeName:h.ZodNull,...v(e)});var P=class extends y{constructor(){super(...arguments),this._any=!0}_parse(e){return w(e.data)}};P.create=e=>new P({typeName:h.ZodAny,...v(e)});var I=class extends y{constructor(){super(...arguments),this._unknown=!0}_parse(e){return w(e.data)}};I.create=e=>new I({typeName:h.ZodUnknown,...v(e)});var C=class extends y{_parse(e){let t=this._getOrReturnCtx(e);return p(t,{code:c.invalid_type,expected:u.never,received:t.parsedType}),f}};C.create=e=>new C({typeName:h.ZodNever,...v(e)});var W=class extends y{_parse(e){if(this._getType(e)!==u.undefined){let t=this._getOrReturnCtx(e);return p(t,{code:c.invalid_type,expected:u.void,received:t.parsedType}),f}return w(e.data)}};W.create=e=>new W({typeName:h.ZodVoid,...v(e)});var S=class extends y{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==u.array)return p(t,{code:c.invalid_type,expected:u.array,received:t.parsedType}),f;if(a.minLength!==null&&t.data.length<a.minLength.value&&(p(t,{code:c.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(p(t,{code:c.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all(t.data.map((o,i)=>a.type._parseAsync(new T(t,o,t.path,i)))).then(o=>b.mergeArray(r,o));let n=t.data.map((o,i)=>a.type._parseSync(new T(t,o,t.path,i)));return b.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new S({...this._def,minLength:{value:e,message:_.toString(t)}})}max(e,t){return new S({...this._def,maxLength:{value:e,message:_.toString(t)}})}length(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};S.create=(e,t)=>new S({type:e,minLength:null,maxLength:null,typeName:h.ZodArray,...v(t)});var ce;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(ce||(ce={}));var me=e=>t=>new g({...e,shape:()=>({...e.shape(),...t})});function q(e){if(e instanceof g){let t={};for(let r in e.shape){let a=e.shape[r];t[r]=k.create(q(a))}return new g({...e._def,shape:()=>t})}else return e instanceof S?S.create(q(e.element)):e instanceof k?k.create(q(e.unwrap())):e instanceof R?R.create(q(e.unwrap())):e instanceof O?O.create(e.items.map(t=>q(t))):e}var g=class extends y{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=me(this._def),this.extend=me(this._def)}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=x.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==u.object){let l=this._getOrReturnCtx(e);return p(l,{code:c.invalid_type,expected:u.object,received:l.parsedType}),f}let{status:t,ctx:r}=this._processInputParams(e),{shape:a,keys:n}=this._getCached(),o=[];for(let l in r.data)n.includes(l)||o.push(l);let i=[];for(let l of n){let m=a[l],U=r.data[l];i.push({key:{status:"valid",value:l},value:m._parse(new T(r,U,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof C){let l=this._def.unknownKeys;if(l==="passthrough")for(let m of o)i.push({key:{status:"valid",value:m},value:{status:"valid",value:r.data[m]}});else if(l==="strict")o.length>0&&(p(r,{code:c.unrecognized_keys,keys:o}),t.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let m of o){let U=r.data[m];i.push({key:{status:"valid",value:m},value:l._parse(new T(r,U,r.path,m)),alwaysSet:m in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let l=[];for(let m of i){let U=await m.key;l.push({key:U,value:await m.value,alwaysSet:m.alwaysSet})}return l}).then(l=>b.mergeObjectSync(t,l)):b.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return _.errToObj,new g({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var a,n,o,i;let l=(o=(n=(a=this._def).errorMap)===null||n===void 0?void 0:n.call(a,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(i=_.errToObj(e).message)!==null&&i!==void 0?i:l}:{message:l}}}:{}})}strip(){return new g({...this._def,unknownKeys:"strip"})}passthrough(){return new g({...this._def,unknownKeys:"passthrough"})}setKey(e,t){return this.augment({[e]:t})}merge(e){return new g({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>ce.mergeShapes(this._def.shape(),e._def.shape()),typeName:h.ZodObject})}catchall(e){return new g({...this._def,catchall:e})}pick(e){let t={};return x.objectKeys(e).map(r=>{this.shape[r]&&(t[r]=this.shape[r])}),new g({...this._def,shape:()=>t})}omit(e){let t={};return x.objectKeys(this.shape).map(r=>{x.objectKeys(e).indexOf(r)===-1&&(t[r]=this.shape[r])}),new g({...this._def,shape:()=>t})}deepPartial(){return q(this)}partial(e){let t={};if(e)return x.objectKeys(this.shape).map(r=>{x.objectKeys(e).indexOf(r)===-1?t[r]=this.shape[r]:t[r]=this.shape[r].optional()}),new g({...this._def,shape:()=>t});for(let r in this.shape){let a=this.shape[r];t[r]=a.optional()}return new g({...this._def,shape:()=>t})}required(){let e={};for(let t in this.shape){let r=this.shape[t];for(;r instanceof k;)r=r._def.innerType;e[t]=r}return new g({...this._def,shape:()=>e})}};g.create=(e,t)=>new g({shape:()=>e,unknownKeys:"strip",catchall:C.create(),typeName:h.ZodObject,...v(t)});g.strictCreate=(e,t)=>new g({shape:()=>e,unknownKeys:"strict",catchall:C.create(),typeName:h.ZodObject,...v(t)});g.lazycreate=(e,t)=>new g({shape:e,unknownKeys:"strip",catchall:C.create(),typeName:h.ZodObject,...v(t)});var $=class extends y{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function a(n){for(let i of n)if(i.result.status==="valid")return i.result;for(let i of n)if(i.result.status==="dirty")return t.common.issues.push(...i.ctx.common.issues),i.result;let o=n.map(i=>new N(i.ctx.common.issues));return p(t,{code:c.invalid_union,unionErrors:o}),f}if(t.common.async)return Promise.all(r.map(async n=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await n._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(a);{let n,o=[];for(let l of r){let m={...t,common:{...t.common,issues:[]},parent:null},U=l._parseSync({data:t.data,path:t.path,parent:m});if(U.status==="valid")return U;U.status==="dirty"&&!n&&(n={result:U,ctx:m}),m.common.issues.length&&o.push(m.common.issues)}if(n)return t.common.issues.push(...n.ctx.common.issues),n.result;let i=o.map(l=>new N(l));return p(t,{code:c.invalid_union,unionErrors:i}),f}}get options(){return this._def.options}};$.create=(e,t)=>new $({options:e,typeName:h.ZodUnion,...v(t)});var G=class extends y{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.object)return p(t,{code:c.invalid_type,expected:u.object,received:t.parsedType}),f;let r=this.discriminator,a=t.data[r],n=this.options.get(a);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(p(t,{code:c.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[r]}),f)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(e,t,r){let a=new Map;try{t.forEach(n=>{let o=n.shape[e].value;a.set(o,n)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(a.size!==t.length)throw new Error("Some of the discriminator values are not unique");return new G({typeName:h.ZodDiscriminatedUnion,discriminator:e,options:a,...v(r)})}};function he(e,t){let r=V(e),a=V(t);if(e===t)return{valid:!0,data:e};if(r===u.object&&a===u.object){let n=x.objectKeys(t),o=x.objectKeys(e).filter(l=>n.indexOf(l)!==-1),i={...e,...t};for(let l of o){let m=he(e[l],t[l]);if(!m.valid)return{valid:!1};i[l]=m.data}return{valid:!0,data:i}}else if(r===u.array&&a===u.array){if(e.length!==t.length)return{valid:!1};let n=[];for(let o=0;o<e.length;o++){let i=e[o],l=t[o],m=he(i,l);if(!m.valid)return{valid:!1};n.push(m.data)}return{valid:!0,data:n}}else return r===u.date&&a===u.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var D=class extends y{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=(n,o)=>{if(de(n)||de(o))return f;let i=he(n.value,o.value);return i.valid?((le(n)||le(o))&&t.dirty(),{status:t.value,value:i.data}):(p(r,{code:c.invalid_intersection_types}),f)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([n,o])=>a(n,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};D.create=(e,t,r)=>new D({left:e,right:t,typeName:h.ZodIntersection,...v(r)});var O=class extends y{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.array)return p(r,{code:c.invalid_type,expected:u.array,received:r.parsedType}),f;if(r.data.length<this._def.items.length)return p(r,{code:c.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),f;!this._def.rest&&r.data.length>this._def.items.length&&(p(r,{code:c.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),t.dirty());let a=r.data.map((n,o)=>{let i=this._def.items[o]||this._def.rest;return i?i._parse(new T(r,n,r.path,o)):null}).filter(n=>!!n);return r.common.async?Promise.all(a).then(n=>b.mergeArray(t,n)):b.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new O({...this._def,rest:e})}};O.create=(e,t)=>new O({items:e,typeName:h.ZodTuple,rest:null,...v(t)});var L=class extends y{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.object)return p(r,{code:c.invalid_type,expected:u.object,received:r.parsedType}),f;let a=[],n=this._def.keyType,o=this._def.valueType;for(let i in r.data)a.push({key:n._parse(new T(r,i,r.path,i)),value:o._parse(new T(r,r.data[i],r.path,i))});return r.common.async?b.mergeObjectAsync(t,a):b.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof y?new L({keyType:e,valueType:t,typeName:h.ZodRecord,...v(r)}):new L({keyType:j.create(),valueType:e,typeName:h.ZodRecord,...v(t)})}},Q=class extends y{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.map)return p(r,{code:c.invalid_type,expected:u.map,received:r.parsedType}),f;let a=this._def.keyType,n=this._def.valueType,o=[...r.data.entries()].map(([i,l],m)=>({key:a._parse(new T(r,i,r.path,[m,"key"])),value:n._parse(new T(r,l,r.path,[m,"value"]))}));if(r.common.async){let i=new Map;return Promise.resolve().then(async()=>{for(let l of o){let m=await l.key,U=await l.value;if(m.status==="aborted"||U.status==="aborted")return f;(m.status==="dirty"||U.status==="dirty")&&t.dirty(),i.set(m.value,U.value)}return{status:t.value,value:i}})}else{let i=new Map;for(let l of o){let m=l.key,U=l.value;if(m.status==="aborted"||U.status==="aborted")return f;(m.status==="dirty"||U.status==="dirty")&&t.dirty(),i.set(m.value,U.value)}return{status:t.value,value:i}}}};Q.create=(e,t,r)=>new Q({valueType:t,keyType:e,typeName:h.ZodMap,...v(r)});var A=class extends y{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.set)return p(r,{code:c.invalid_type,expected:u.set,received:r.parsedType}),f;let a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(p(r,{code:c.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(p(r,{code:c.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,message:a.maxSize.message}),t.dirty());let n=this._def.valueType;function o(l){let m=new Set;for(let U of l){if(U.status==="aborted")return f;U.status==="dirty"&&t.dirty(),m.add(U.value)}return{status:t.value,value:m}}let i=[...r.data.values()].map((l,m)=>n._parse(new T(r,l,r.path,m)));return r.common.async?Promise.all(i).then(l=>o(l)):o(i)}min(e,t){return new A({...this._def,minSize:{value:e,message:_.toString(t)}})}max(e,t){return new A({...this._def,maxSize:{value:e,message:_.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};A.create=(e,t)=>new A({valueType:e,minSize:null,maxSize:null,typeName:h.ZodSet,...v(t)});var M=class extends y{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.function)return p(t,{code:c.invalid_type,expected:u.function,received:t.parsedType}),f;function r(i,l){return ie({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ne,se].filter(m=>!!m),issueData:{code:c.invalid_arguments,argumentsError:l}})}function a(i,l){return ie({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ne,se].filter(m=>!!m),issueData:{code:c.invalid_return_type,returnTypeError:l}})}let n={errorMap:t.common.contextualErrorMap},o=t.data;return this._def.returns instanceof z?w(async(...i)=>{let l=new N([]),m=await this._def.args.parseAsync(i,n).catch(pt=>{throw l.addIssue(r(i,pt)),l}),U=await o(...m);return await this._def.returns._def.type.parseAsync(U,n).catch(pt=>{throw l.addIssue(a(U,pt)),l})}):w((...i)=>{let l=this._def.args.safeParse(i,n);if(!l.success)throw new N([r(i,l.error)]);let m=o(...l.data),U=this._def.returns.safeParse(m,n);if(!U.success)throw new N([a(m,U.error)]);return U.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new M({...this._def,args:O.create(e).rest(I.create())})}returns(e){return new M({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}};M.create=(e,t,r)=>new M({args:e?e.rest(I.create()):O.create([]).rest(I.create()),returns:t||I.create(),typeName:h.ZodFunction,...v(r)});var X=class extends y{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};X.create=(e,t)=>new X({getter:e,typeName:h.ZodLazy,...v(t)});var F=class extends y{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return p(t,{code:c.invalid_literal,expected:this._def.value}),f}return{status:"valid",value:e.data}}get value(){return this._def.value}};F.create=(e,t)=>new F({value:e,typeName:h.ZodLiteral,...v(t)});function Ie(e,t){return new ee({values:e,typeName:h.ZodEnum,...v(t)})}var ee=class extends y{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),r=this._def.values;return p(t,{expected:x.joinValues(r),received:t.parsedType,code:c.invalid_type}),f}if(this._def.values.indexOf(e.data)===-1){let t=this._getOrReturnCtx(e),r=this._def.values;return p(t,{received:t.data,code:c.invalid_enum_value,options:r}),f}return w(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}};ee.create=Ie;var te=class extends y{_parse(e){let t=x.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==u.string&&r.parsedType!==u.number){let a=x.objectValues(t);return p(r,{expected:x.joinValues(a),received:r.parsedType,code:c.invalid_type}),f}if(t.indexOf(e.data)===-1){let a=x.objectValues(t);return p(r,{received:r.data,code:c.invalid_enum_value,options:a}),f}return w(e.data)}get enum(){return this._def.values}};te.create=(e,t)=>new te({values:e,typeName:h.ZodNativeEnum,...v(t)});var z=class extends y{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.promise&&t.common.async===!1)return p(t,{code:c.invalid_type,expected:u.promise,received:t.parsedType}),f;let r=t.parsedType===u.promise?t.data:Promise.resolve(t.data);return w(r.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}};z.create=(e,t)=>new z({type:e,typeName:h.ZodPromise,...v(t)});var E=class extends y{innerType(){return this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null;if(a.type==="preprocess"){let o=a.transform(r.data);return r.common.async?Promise.resolve(o).then(i=>this._def.schema._parseAsync({data:i,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}let n={addIssue:o=>{p(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),a.type==="refinement"){let o=i=>{let l=a.refinement(i,n);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(r.common.async===!1){let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?f:(i.status==="dirty"&&t.dirty(),o(i.value),{status:t.value,value:i.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>i.status==="aborted"?f:(i.status==="dirty"&&t.dirty(),o(i.value).then(()=>({status:t.value,value:i.value}))))}if(a.type==="transform")if(r.common.async===!1){let o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!oe(o))return o;let i=a.transform(o.value,n);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>oe(o)?Promise.resolve(a.transform(o.value,n)).then(i=>({status:t.value,value:i})):o);x.assertNever(a)}};E.create=(e,t,r)=>new E({schema:e,typeName:h.ZodEffects,effect:t,...v(r)});E.createWithPreprocess=(e,t,r)=>new E({schema:t,effect:{type:"preprocess",transform:e},typeName:h.ZodEffects,...v(r)});var k=class extends y{_parse(e){return this._getType(e)===u.undefined?w(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};k.create=(e,t)=>new k({innerType:e,typeName:h.ZodOptional,...v(t)});var R=class extends y{_parse(e){return this._getType(e)===u.null?w(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};R.create=(e,t)=>new R({innerType:e,typeName:h.ZodNullable,...v(t)});var ae=class extends y{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===u.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};ae.create=(e,t)=>new k({innerType:e,typeName:h.ZodOptional,...v(t)});var re=class extends y{_parse(e){if(this._getType(e)!==u.nan){let t=this._getOrReturnCtx(e);return p(t,{code:c.invalid_type,expected:u.nan,received:t.parsedType}),f}return{status:"valid",value:e.data}}};re.create=e=>new re({typeName:h.ZodNaN,...v(e)});var ve=(e,t={},r)=>e?P.create().superRefine((a,n)=>{if(!e(a)){let o=typeof t=="function"?t(a):t,i=typeof o=="string"?{message:o}:o;n.addIssue({code:"custom",...i,fatal:r})}}):P.create(),je={object:g.lazycreate},h;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise"})(h||(h={}));var Ce=(e,t={message:`Input not instance of ${e.name}`})=>ve(r=>r instanceof e,t,!0),_e=j.create,ge=Z.create,Ze=re.create,Ae=B.create,xe=J.create,Me=Y.create,Re=H.create,Ve=K.create,Pe=P.create,ze=I.create,$e=C.create,De=W.create,Le=S.create,Ue=g.create,qe=g.strictCreate,Be=$.create,Je=G.create,Ye=D.create,He=O.create,Ke=L.create,We=Q.create,Ge=A.create,Qe=M.create,Xe=X.create,Fe=F.create,et=ee.create,tt=te.create,rt=z.create,ye=E.create,st=k.create,nt=R.create,at=E.createWithPreprocess,it=()=>_e().optional(),ot=()=>ge().optional(),ct=()=>xe().optional(),ut=Object.freeze({__proto__:null,getParsedType:V,ZodParsedType:u,makeIssue:ie,EMPTY_PATH:ke,addIssueToContext:p,ParseStatus:b,INVALID:f,DIRTY:Te,OK:w,isAborted:de,isDirty:le,isValid:oe,isAsync:pe,ZodType:y,ZodString:j,ZodNumber:Z,ZodBigInt:B,ZodBoolean:J,ZodDate:Y,ZodUndefined:H,ZodNull:K,ZodAny:P,ZodUnknown:I,ZodNever:C,ZodVoid:W,ZodArray:S,get objectUtil(){return ce},ZodObject:g,ZodUnion:$,ZodDiscriminatedUnion:G,ZodIntersection:D,ZodTuple:O,ZodRecord:L,ZodMap:Q,ZodSet:A,ZodFunction:M,ZodLazy:X,ZodLiteral:F,ZodEnum:ee,ZodNativeEnum:te,ZodPromise:z,ZodEffects:E,ZodTransformer:E,ZodOptional:k,ZodNullable:R,ZodDefault:ae,ZodNaN:re,custom:ve,Schema:y,ZodSchema:y,late:je,get ZodFirstPartyTypeKind(){return h},any:Pe,array:Le,bigint:Ae,boolean:xe,date:Me,discriminatedUnion:Je,effect:ye,enum:et,function:Qe,instanceof:Ce,intersection:Ye,lazy:Xe,literal:Fe,map:We,nan:Ze,nativeEnum:tt,never:$e,null:Ve,nullable:nt,number:ge,object:Ue,oboolean:ct,onumber:ot,optional:st,ostring:it,preprocess:at,promise:rt,record:Ke,set:Ge,strictObject:qe,string:_e,transformer:ye,tuple:He,undefined:Re,union:Be,unknown:ze,void:De,ZodIssueCode:c,quotelessJson:be,ZodError:N,defaultErrorMap:se,get overrideErrorMap(){return ne},setErrorMap:we});const mod={DIRTY:Te,EMPTY_PATH:ke,INVALID:f,OK:w,ParseStatus:b,Schema:y,ZodAny:P,ZodArray:S,ZodBigInt:B,ZodBoolean:J,ZodDate:Y,ZodDefault:ae,ZodDiscriminatedUnion:G,ZodEffects:E,ZodEnum:ee,ZodError:N,ZodFirstPartyTypeKind:h,ZodFunction:M,ZodIntersection:D,ZodIssueCode:c,ZodLazy:X,ZodLiteral:F,ZodMap:Q,ZodNaN:re,ZodNativeEnum:te,ZodNever:C,ZodNull:K,ZodNullable:R,ZodNumber:Z,ZodObject:g,ZodOptional:k,ZodParsedType:u,ZodPromise:z,ZodRecord:L,ZodSchema:y,ZodSet:A,ZodString:j,ZodTransformer:E,ZodTuple:O,ZodType:y,ZodUndefined:H,ZodUnion:$,ZodUnknown:I,ZodVoid:W,addIssueToContext:p,any:Pe,array:Le,bigint:Ae,boolean:xe,custom:ve,date:Me,default:ut,defaultErrorMap:se,discriminatedUnion:Je,effect:ye,enum:et,function:Qe,getParsedType:V,instanceof:Ce,intersection:Ye,isAborted:de,isAsync:pe,isDirty:le,isValid:oe,late:je,lazy:Xe,literal:Fe,makeIssue:ie,map:We,nan:Ze,nativeEnum:tt,never:$e,null:Ve,nullable:nt,number:ge,object:Ue,objectUtil:ce,oboolean:ct,onumber:ot,optional:st,ostring:it,overrideErrorMap:ne,preprocess:at,promise:rt,quotelessJson:be,record:Ke,set:Ge,setErrorMap:we,strictObject:qe,string:_e,transformer:ye,tuple:He,undefined:Re,union:Be,unknown:ze,void:De,z:ut},__zod$=Object.assign({default:ut},mod);var Ve=Object.create,ue=Object.defineProperty,Ce=Object.getOwnPropertyDescriptor,Ge=Object.getOwnPropertyNames,He=Object.getPrototypeOf,Qe=Object.prototype.hasOwnProperty;(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),We=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ge(t))!Qe.call(e,n)&&n!==r&&ue(e,n,{get:()=>t[n],enumerable:!(a=Ce(t,n))||a.enumerable});return e},oe=(e,t,r)=>(r=e!=null?Ve(He(e)):{},We(t||!e||!e.__esModule?ue(r,"default",{value:e,enumerable:!0}):r,e)),ce=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseOptionalDef=void 0;var t=d(),r=(a,n)=>{if(n.currentPath.toString()===n.propertyPath.toString())return(0,t.parseDef)(a.innerType._def,n);let o=(0,t.parseDef)(a.innerType._def,n.addToPath("anyOf","1"));return o?{anyOf:[{not:{}},o]}:{}};e.parseOptionalDef=r}),pe=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseAnyDef=void 0;function t(){return{}}e.parseAnyDef=t}),le=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseArrayDef=void 0;var t=__zod$,r=d();function a(n,o){var i,l;let m={type:"array"};return((l=(i=n.type)===null||i===void 0?void 0:i._def)===null||l===void 0?void 0:l.typeName)!==t.ZodFirstPartyTypeKind.ZodAny&&(m.items=(0,r.parseDef)(n.type._def,o.addToPath("items"))),n.minLength&&(m.minItems=n.minLength.value),n.maxLength&&(m.maxItems=n.maxLength.value),m}e.parseArrayDef=a}),fe=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseBigintDef=void 0;function t(){return{type:"integer",format:"int64"}}e.parseBigintDef=t}),ye=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseBooleanDef=void 0;function t(){return{type:"boolean"}}e.parseBooleanDef=t}),me=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDateDef=void 0;function t(){return{type:"string",format:"date-time"}}e.parseDateDef=t}),_e=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDefaultDef=void 0;var t=d();function r(a,n){return Object.assign(Object.assign({},(0,t.parseDef)(a.innerType._def,n)),{default:a.defaultValue()})}e.parseDefaultDef=r}),ve=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEffectsDef=void 0;var t=d();function r(a,n){return n.effectStrategy==="input"?(0,t.parseDef)(a.schema._def,n):{}}e.parseEffectsDef=r}),De=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnumDef=void 0;function t(r){return{type:"string",enum:r.values}}e.parseEnumDef=t}),he=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseIntersectionDef=void 0;var t=d();function r(a,n){let o=[(0,t.parseDef)(a.left._def,n.addToPath("allOf","0")),(0,t.parseDef)(a.right._def,n.addToPath("allOf","1"))].filter(i=>!!i);return o.length?{allOf:o}:void 0}e.parseIntersectionDef=r}),be=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLiteralDef=void 0;function t(r,a){let n=typeof r.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(r.value)?"array":"object"}:a.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[r.value]}:{type:n==="bigint"?"integer":n,const:r.value}}e.parseLiteralDef=t}),Te=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseMapDef=void 0;var t=d();function r(a,n){let o=(0,t.parseDef)(a.keyType._def,n.addToPath("items","items","0"))||{},i=(0,t.parseDef)(a.valueType._def,n.addToPath("items","items","1"))||{};return{type:"array",maxItems:125,items:{type:"array",items:[o,i],minItems:2,maxItems:2}}}e.parseMapDef=r}),Ze=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseNativeEnumDef=void 0;function t(r){let a=Object.values(r.values).filter(o=>typeof o=="number").map(toString),n=Object.values(r.values).filter((o,i)=>i>=a.length);return{type:a.length===0?"string":a.length===n.length?"number":["string","number"],enum:n}}e.parseNativeEnumDef=t}),Oe=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseNeverDef=void 0;function t(){return{not:{}}}e.parseNeverDef=t}),je=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseNullDef=void 0;function t(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}e.parseNullDef=t}),re=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseUnionDef=e.primitiveMappings=void 0;var t=d();e.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function r(n,o){if(o.target==="openApi3")return a(n,o);let i=n.options instanceof Map?Array.from(n.options.values()):n.options;if(i.every(l=>l._def.typeName in e.primitiveMappings&&(!l._def.checks||!l._def.checks.length))){let l=i.reduce((m,U)=>{let pt=e.primitiveMappings[U._def.typeName];return pt&&!m.includes(pt)?[...m,pt]:m},[]);return{type:l.length>1?l:l[0]}}else if(i.every(l=>l._def.typeName==="ZodLiteral")){let l=i.reduce((m,U)=>{let pt=typeof U._def.value;switch(pt){case"string":case"number":case"boolean":return[...m,pt];case"bigint":return[...m,"integer"];case"object":if(U._def.value===null)return[...m,"null"];case"symbol":case"undefined":case"function":default:return m}},[]);if(l.length===i.length){let m=l.filter((U,pt,ht)=>ht.indexOf(U)===pt);return{type:m.length>1?m:m[0],enum:i.reduce((U,pt)=>U.includes(pt._def.value)?U:[...U,pt._def.value],[])}}}else if(i.every(l=>l._def.typeName==="ZodEnum"))return{type:"string",enum:i.reduce((l,m)=>[...l,...m._def.values.filter(U=>!l.includes(U))],[])};return a(n,o)}e.parseUnionDef=r;var a=(n,o)=>{let i=(n.options instanceof Map?Array.from(n.options.values()):n.options).map((l,m)=>(0,t.parseDef)(l._def,o.addToPath("anyOf",m.toString()))).filter(l=>!!l);return i.length?{anyOf:i}:void 0}}),Me=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseNullableDef=void 0;var t=d(),r=re();function a(n,o){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return o.target==="openApi3"?{type:r.primitiveMappings[n.innerType._def.typeName],nullable:!0}:{type:[r.primitiveMappings[n.innerType._def.typeName],"null"]};let i=(0,t.parseDef)(n.innerType._def,o.addToPath("anyOf","0"));return i?o.target==="openApi3"?Object.assign(Object.assign({},i),{nullable:!0}):{anyOf:[i,{type:"null"}]}:void 0}e.parseNullableDef=a}),Ne=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseNumberDef=void 0;function t(r,a){let n={type:"number"};if(r.checks)for(let o of r.checks)switch(o.kind){case"int":n.type="integer";break;case"min":a.target==="jsonSchema7"?o.inclusive?n.minimum=o.value:n.exclusiveMinimum=o.value:(o.inclusive||(n.exclusiveMinimum=!0),n.minimum=o.value);break;case"max":a.target==="jsonSchema7"?o.inclusive?n.maximum=o.value:n.exclusiveMaximum=o.value:(o.inclusive||(n.exclusiveMaximum=!0),n.maximum=o.value);break;case"multipleOf":n.multipleOf=o.value;break}return n}e.parseNumberDef=t}),Fe=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseObjectDef=void 0;var t=d();function r(a,n){var o;let i=Object.assign(Object.assign({type:"object"},Object.entries(a.shape()).reduce((l,[m,U])=>{if(U===void 0||U._def===void 0)return l;let pt=(0,t.parseDef)(U._def,n.addToPathAsProperty("properties",m));return pt===void 0?l:{properties:Object.assign(Object.assign({},l.properties),{[m]:pt}),required:U.isOptional()?l.required:[...l.required,m]}},{properties:{},required:[]})),{additionalProperties:a.catchall._def.typeName==="ZodNever"?a.unknownKeys==="passthrough":(o=(0,t.parseDef)(a.catchall._def,n.addToPath("additionalProperties")))!==null&&o!==void 0?o:!0});return i.required.length||delete i.required,i}e.parseObjectDef=r}),Ke=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parsePromiseDef=void 0;var t=d();function r(a,n){return(0,t.parseDef)(a.type._def,n)}e.parsePromiseDef=r}),ne=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseStringDef=void 0;function t(r){let a={type:"string"};if(r.checks)for(let n of r.checks)switch(n.kind){case"min":a.minLength=n.value;break;case"max":a.maxLength=n.value;break;case"email":a.format="email";break;case"url":a.format="uri";break;case"uuid":a.format="uuid";break;case"regex":a.pattern=n.regex.source;break;case"cuid":a.pattern="^c[^\\s-]{8,}$";break;case"trim":break;default:(o=>{})(n)}return a}e.parseStringDef=t}),Ae=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseRecordDef=void 0;var t=__zod$,r=d(),a=ne();function n(o,i){var l,m,U;let pt={type:"object",additionalProperties:(0,r.parseDef)(o.valueType._def,i.addToPath("additionalProperties"))||{}};if(((l=o.keyType)===null||l===void 0?void 0:l._def.typeName)===t.ZodFirstPartyTypeKind.ZodString&&((m=o.keyType._def.checks)===null||m===void 0?void 0:m.length)){let ht=Object.entries((0,a.parseStringDef)(o.keyType._def)).reduce((mt,[yt,vt])=>yt==="type"?mt:Object.assign(Object.assign({},mt),{[yt]:vt}),{});return Object.assign(Object.assign({},pt),{propertyNames:ht})}else if(((U=o.keyType)===null||U===void 0?void 0:U._def.typeName)===t.ZodFirstPartyTypeKind.ZodEnum)return Object.assign(Object.assign({},pt),{propertyNames:{enum:o.keyType._def.values}});return pt}e.parseRecordDef=n}),we=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseSetDef=void 0;var t=d();function r(a,n){let o=(0,t.parseDef)(a.valueType._def,n.addToPath("items")),i={type:"array",items:o};return a.minSize&&(i.minItems=a.minSize.value),a.maxSize&&(i.maxItems=a.maxSize.value),i}e.parseSetDef=r}),Ie=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseTupleDef=void 0;var t=d();function r(a,n){return a.rest?{type:"array",minItems:a.items.length,items:a.items.map((o,i)=>(0,t.parseDef)(o._def,n.addToPath("items",i.toString()))).reduce((o,i)=>i===void 0?o:[...o,i],[]),additionalItems:(0,t.parseDef)(a.rest._def,n.addToPath("additionalItems"))}:{type:"array",minItems:a.items.length,maxItems:a.items.length,items:a.items.map((o,i)=>(0,t.parseDef)(o._def,n.addToPath("items",i.toString()))).reduce((o,i)=>i===void 0?o:[...o,i],[])}}e.parseTupleDef=r}),xe=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseUndefinedDef=void 0;function t(){return{not:{}}}e.parseUndefinedDef=t}),Ee=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseUnknownDef=void 0;function t(){return{}}e.parseUnknownDef=t}),d=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDef=void 0;var t=__zod$,r=ce(),a=pe(),n=le(),o=fe(),i=ye(),l=me(),m=_e(),U=ve(),pt=De(),ht=he(),mt=be(),yt=Te(),vt=Ze(),_t=Oe(),gt=je(),bt=Me(),Zt=Ne(),xt=Fe(),wt=Ke(),Tt=Ae(),Pt=we(),kt=ne(),Nt=Ie(),Et=xe(),It=re(),At=Ee();function Dt(dt,ft){let lt=ft.items.find(Ft=>Object.is(Ft.def,dt));if(lt)return Mt(lt,ft);let Ot={def:dt,path:ft.currentPath,jsonSchema:void 0};ft.items.push(Ot);let jt=$t(dt,dt.typeName,ft);return jt&&Kt(dt,jt),Ot.jsonSchema=jt,jt}e.parseDef=Dt;var Mt=(dt,ft)=>{switch(ft.$refStrategy){case"root":return{$ref:dt.path.length===0?"":dt.path.length===1?`${dt.path[0]}/`:dt.path.join("/")};case"relative":return{$ref:Ct(ft.currentPath,dt.path)};case"none":return dt.path.length<ft.currentPath.length&&dt.path.every((lt,Ot)=>ft.currentPath[Ot]===lt)?(console.warn(`Recursive reference detected at ${ft.currentPath.join("/")}! Defaulting to any`),{}):dt.jsonSchema}},Ct=(dt,ft)=>{let lt=0;for(;lt<dt.length&&lt<ft.length&&dt[lt]===ft[lt];lt++);return[(dt.length-lt).toString(),...ft.slice(lt)].join("/")},$t=(dt,ft,lt)=>{switch(ft){case t.ZodFirstPartyTypeKind.ZodString:return(0,kt.parseStringDef)(dt);case t.ZodFirstPartyTypeKind.ZodNumber:return(0,Zt.parseNumberDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodObject:return(0,xt.parseObjectDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodBigInt:return(0,o.parseBigintDef)();case t.ZodFirstPartyTypeKind.ZodBoolean:return(0,i.parseBooleanDef)();case t.ZodFirstPartyTypeKind.ZodDate:return(0,l.parseDateDef)();case t.ZodFirstPartyTypeKind.ZodUndefined:return(0,Et.parseUndefinedDef)();case t.ZodFirstPartyTypeKind.ZodNull:return(0,gt.parseNullDef)(lt);case t.ZodFirstPartyTypeKind.ZodArray:return(0,n.parseArrayDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodUnion:case t.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,It.parseUnionDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodIntersection:return(0,ht.parseIntersectionDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodTuple:return(0,Nt.parseTupleDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodRecord:return(0,Tt.parseRecordDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodLiteral:return(0,mt.parseLiteralDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodEnum:return(0,pt.parseEnumDef)(dt);case t.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,vt.parseNativeEnumDef)(dt);case t.ZodFirstPartyTypeKind.ZodNullable:return(0,bt.parseNullableDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodOptional:return(0,r.parseOptionalDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodMap:return(0,yt.parseMapDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodSet:return(0,Pt.parseSetDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodLazy:return Dt(dt.getter()._def,lt);case t.ZodFirstPartyTypeKind.ZodPromise:return(0,wt.parsePromiseDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodNaN:case t.ZodFirstPartyTypeKind.ZodNever:return(0,_t.parseNeverDef)();case t.ZodFirstPartyTypeKind.ZodEffects:return(0,U.parseEffectsDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodAny:return(0,a.parseAnyDef)();case t.ZodFirstPartyTypeKind.ZodUnknown:return(0,At.parseUnknownDef)();case t.ZodFirstPartyTypeKind.ZodDefault:return(0,m.parseDefaultDef)(dt,lt);case t.ZodFirstPartyTypeKind.ZodFunction:case t.ZodFirstPartyTypeKind.ZodVoid:return;default:return(Ot=>{})(ft)}},Kt=(dt,ft)=>(dt.description&&(ft.description=dt.description),ft)}),Ue=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.References=void 0;var t=class{constructor(r=["#"],a=[],n="root",o="input",i="jsonSchema7",l=[]){this.currentPath=r,this.items=a,this.$refStrategy=n,this.effectStrategy=o,this.target=i,this.propertyPath=l}addToPath(...r){return new t([...this.currentPath,...r],this.items,this.$refStrategy,this.effectStrategy,this.target,this.propertyPath)}addToPathAsProperty(...r){return new t([...this.currentPath,...r],this.items,this.$refStrategy,this.effectStrategy,this.target,[...this.currentPath,...r])}};e.References=t}),Le=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.zodToJsonSchema=void 0;var t=d(),r=Ue(),a="http://json-schema.org/draft-07/schema#";function n(o,i){var l,m,U,pt,ht,mt,yt,vt,_t,gt,bt,Zt,xt,wt,Tt,Pt;if(typeof i=="object")return i.name===void 0?i.target==="openApi3"?(0,t.parseDef)(o._def,new r.References((l=i.basePath)!==null&&l!==void 0?l:["#"],[],(m=i.$refStrategy)!==null&&m!==void 0?m:"root",i.effectStrategy,i.target)):Object.assign({$schema:a},(0,t.parseDef)(o._def,new r.References((U=i.basePath)!==null&&U!==void 0?U:["#"],[],(pt=i.$refStrategy)!==null&&pt!==void 0?pt:"root",i.effectStrategy,i.target))):i.target==="openApi3"?{$ref:i.$refStrategy==="relative"?`0/${(ht=i.definitionPath)!==null&&ht!==void 0?ht:"definitions"}/${i.name}`:`#/${(mt=i.definitionPath)!==null&&mt!==void 0?mt:"definitions"}/${i.name}`,[(yt=i.definitionPath)!==null&&yt!==void 0?yt:"definitions"]:{[i.name]:(0,t.parseDef)(o._def,new r.References([...(vt=i.basePath)!==null&&vt!==void 0?vt:["#"],(_t=i.definitionPath)!==null&&_t!==void 0?_t:"definitions",i.name],[],(gt=i.$refStrategy)!==null&&gt!==void 0?gt:"root",i.effectStrategy,i.target))||{}}}:{$schema:a,$ref:i.$refStrategy==="relative"?`0/${(bt=i.definitionPath)!==null&&bt!==void 0?bt:"definitions"}/${i.name}`:`#/${(Zt=i.definitionPath)!==null&&Zt!==void 0?Zt:"definitions"}/${i.name}`,[(xt=i.definitionPath)!==null&&xt!==void 0?xt:"definitions"]:{[i.name]:(0,t.parseDef)(o._def,new r.References([...(wt=i.basePath)!==null&&wt!==void 0?wt:["#"],(Tt=i.definitionPath)!==null&&Tt!==void 0?Tt:"definitions",i.name],[],(Pt=i.$refStrategy)!==null&&Pt!==void 0?Pt:"root",i.effectStrategy,i.target))||{}}};if(typeof i=="string"){let kt=i;return{$schema:a,$ref:`#/definitions/${kt}`,definitions:{[kt]:(0,t.parseDef)(o._def,new r.References)||{}}}}else return Object.assign({$schema:a},(0,t.parseDef)(o._def,new r.References))}e.zodToJsonSchema=n}),ae=s(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.zodToJsonSchema=void 0;var t=Le();Object.defineProperty(e,"zodToJsonSchema",{enumerable:!0,get:function(){return t.zodToJsonSchema}}),e.default=t.zodToJsonSchema}),Be=oe(ae()),Je=oe(ae()),{__esModule:Br,zodToJsonSchema:Jr}=Je,{default:pr,...lr}=Je,Vr=Be.default??pr??lr;class IPristineFrame{s;pc;ch;aw;logs;root;res;debug(){console.log(">>> start"),this.aw&&console.log("awaiting:",this.aw),this.res&&console.log("result:",this.res),console.log(">>> end"),console.log()}constructor(t,r=void 0){this.parent=t,this.s={},this.pc=0,this.ch=[],this.aw=null,this.logs=[],this.root=void 0,this.res=void 0,r&&(this.s=r.s,this.pc=r.pc,this.ch=r.ch.map(a=>new IPristineFrame(this,a)),this.aw=r.aw),t&&(this.root=t.root)}log(t){this.root?this.root.log(t):this.logs.push(t)}subframe(){if(this.ch.length>0)return this.ch[0];const t=new IPristineFrame(this.root||this);return this.ch.push(t),t}end(t=void 0){return this.res=t,this.parent?.ch.pop(),t}serialize(){return encode({s:this.s,pc:this.pc,ch:this.ch.map(t=>t.serialize()),aw:this.aw,logs:this.logs,res:this.res})}parent}class PristineSignal extends Error{constructor(){super()}}class Suspension extends PristineSignal{constructor(t){super(),this.idx=t}idx}function serializeSuspension(e){return e instanceof SuspensionUntilInput?{until_input:e.serialize(),idx:e.idx}:!0}class SuspensionUntilInput extends Suspension{constructor(t,r){super(t),this.idx=t,this.schema=r}serialize(){return this.schema}idx;schema}function zodToSchema(e){return Vr(e,"$")}function isGenerator(e){return e?.constructor?.name==="GeneratorFunction"}class InternalPristineContext{_counter;_state;_data;_lastSuspension;_frame;run_fn(){print("in run_fn");try{let t=null;print("before this.f(this)"),t=this.f(this),this._frame.res=t}catch(t){if(t instanceof Suspension)this._frame.aw=serializeSuspension(t);else throw t}return this._frame}run_generator(){print("generator run");try{let t=null;const r=this.f(this);t=r.next().value,this._frame.res=t,r.next().value}catch(t){if(t instanceof Suspension)this._frame.aw=serializeSuspension(t);else throw t}return this._frame}run(){return isGenerator(this.f)?this.run_generator():this.run_fn()}setData(t){this._data=t}getData(){return{...this._data}}newSuspensionUntilInput(t){return new SuspensionUntilInput(this._counter-1,t)}recv(t){}useUIInput(t){const r=zodToSchema(t);if(this._frame.aw&&this._frame.aw?.until_input===void 0){const a=this._frame.aw;return this._frame.aw=void 0,a}else throw this.newSuspensionUntilInput(r)}frame(){return this._frame||(this._frame=new PristineFrame(void 0)),this._frame}loadFrame(t){this._frame=new IPristineFrame(void 0,t)}supply(t){this._frame.aw=t}log(t){this._frame?.log(t)}constructor(t,r){this.f=t,this._counter=0,this._state=[],this._data={},this._lastSuspension=void 0,this._frame=void 0,r&&(this._state=r?.s,this._data=r?.d,this._lastSuspension=r?.suspended)}f}function step(e,t,r){const a=new InternalPristineContext(e,{});return t&&a.loadFrame(t),r&&a.supply(r),a.run()}return Bt(Gt);})();
