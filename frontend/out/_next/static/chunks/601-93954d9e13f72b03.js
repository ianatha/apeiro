"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[601],{68601:function(e,n,l){l.r(n),l.d(n,{CircleIcon:function(){return er},default:function(){return ea}});var i=l(11527),t=l(50084),s=l(18456),r=l(72270),a=l(73495),o=l(73615),c=l(41235),d=l(94628),u=l(91573),x=l(96741),h=l(60604),[m,p]=(0,c.k)({name:"TagStylesContext",errorMessage:"useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tag />\" "}),j=(0,d.G)((e,n)=>{let l=(0,u.jC)("Tag",e),t=(0,x.Lr)(e),s={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...l.container};return(0,i.jsx)(m,{value:l,children:(0,i.jsx)(h.m.span,{ref:n,...t,__css:s})})});j.displayName="Tag",(0,d.G)((e,n)=>{let l=p();return(0,i.jsx)(h.m.span,{ref:n,noOfLines:1,...e,__css:l.label})}).displayName="TagLabel",(0,d.G)((e,n)=>(0,i.jsx)(t.J,{ref:n,verticalAlign:"top",marginEnd:"0.5rem",...e})).displayName="TagLeftIcon",(0,d.G)((e,n)=>(0,i.jsx)(t.J,{ref:n,verticalAlign:"top",marginStart:"0.5rem",...e})).displayName="TagRightIcon";var f=e=>(0,i.jsx)(t.J,{verticalAlign:"inherit",viewBox:"0 0 512 512",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});f.displayName="TagCloseIcon",(0,d.G)((e,n)=>{let{isDisabled:l,children:t,...s}=e,r={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...p().closeButton};return(0,i.jsx)(h.m.button,{ref:n,"aria-label":"close",...s,type:"button",disabled:l,__css:r,children:t||(0,i.jsx)(f,{})})}).displayName="TagCloseButton";var g=l(23054),v=l(77943),[b,y]=(0,c.k)({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[w,N]=(0,c.k)({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[A,C,k,_]=(0,v.n)(),I=l(98725),E=l(88198),T=l(24843),S=l(50959),[M,D]=(0,c.k)({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"}),L=(0,d.G)(function({children:e,reduceMotion:n,...l},t){let s=(0,u.jC)("Accordion",l),{htmlProps:r,descendants:a,...o}=function(e){let{onChange:n,defaultIndex:l,index:i,allowMultiple:t,allowToggle:s,...r}=e;(function(e){let n=e.index||e.defaultIndex,l=null!=n&&!Array.isArray(n)&&e.allowMultiple;(0,T.ZK)({condition:!!l,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof n},`})})(e),(0,T.ZK)({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"});let a=k(),[o,c]=(0,S.useState)(-1);(0,S.useEffect)(()=>()=>{c(-1)},[]);let[d,u]=(0,I.T)({value:i,defaultValue:()=>t?null!=l?l:[]:null!=l?l:-1,onChange:n});return{index:d,setIndex:u,htmlProps:r,getAccordionItemProps:e=>{let n=!1;return null!==e&&(n=Array.isArray(d)?d.includes(e):d===e),{isOpen:n,onChange:n=>{null!==e&&(t&&Array.isArray(d)?u(n?d.concat(e):d.filter(n=>n!==e)):n?u(e):s&&u(-1))}}},focusedIndex:o,setFocusedIndex:c,descendants:a}}((0,x.Lr)(l)),c=(0,S.useMemo)(()=>({...o,reduceMotion:!!n}),[o,n]);return(0,i.jsx)(A,{value:a,children:(0,i.jsx)(M,{value:c,children:(0,i.jsx)(b,{value:s,children:(0,i.jsx)(h.m.div,{ref:t,...r,className:(0,T.cx)("chakra-accordion",l.className),__css:s.root,children:e})})})})});L.displayName="Accordion";var z=(0,d.G)(function(e,n){let{children:l,className:t}=e,{htmlProps:s,...r}=function(e){var n;let{isDisabled:l,isFocusable:i,id:t,...s}=e,{getAccordionItemProps:r,setFocusedIndex:a}=D(),o=(0,S.useRef)(null),c=(0,S.useId)(),d=null!=t?t:c,u=`accordion-button-${d}`,x=`accordion-panel-${d}`;(0,T.ZK)({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `});let{register:h,index:m,descendants:p}=_({disabled:l&&!i}),{isOpen:j,onChange:f}=r(-1===m?null:m);n={isOpen:j,isDisabled:l},(0,T.ZK)({condition:n.isOpen&&!!n.isDisabled,message:"Cannot open a disabled accordion item"});let g=(0,S.useCallback)(()=>{null==f||f(!j),a(m)},[m,a,j,f]),v=(0,S.useCallback)(e=>{let n={ArrowDown:()=>{let e=p.nextEnabled(m);null==e||e.node.focus()},ArrowUp:()=>{let e=p.prevEnabled(m);null==e||e.node.focus()},Home:()=>{let e=p.firstEnabled();null==e||e.node.focus()},End:()=>{let e=p.lastEnabled();null==e||e.node.focus()}}[e.key];n&&(e.preventDefault(),n(e))},[p,m]),b=(0,S.useCallback)(()=>{a(m)},[a,m]),y=(0,S.useCallback)(function(e={},n=null){return{...e,type:"button",ref:(0,E.lq)(h,o,n),id:u,disabled:!!l,"aria-expanded":!!j,"aria-controls":x,onClick:(0,T.v0)(e.onClick,g),onFocus:(0,T.v0)(e.onFocus,b),onKeyDown:(0,T.v0)(e.onKeyDown,v)}},[u,l,j,g,b,v,x,h]),w=(0,S.useCallback)(function(e={},n=null){return{...e,ref:n,role:"region",id:x,"aria-labelledby":u,hidden:!j}},[u,j,x]);return{isOpen:j,isDisabled:l,isFocusable:i,onOpen:()=>{null==f||f(!0)},onClose:()=>{null==f||f(!1)},getButtonProps:y,getPanelProps:w,htmlProps:s}}(e),a={...y().container,overflowAnchor:"none"},o=(0,S.useMemo)(()=>r,[r]);return(0,i.jsx)(w,{value:o,children:(0,i.jsx)(h.m.div,{ref:n,...s,className:(0,T.cx)("chakra-accordion__item",t),__css:a,children:"function"==typeof l?l({isExpanded:!!r.isOpen,isDisabled:!!r.isDisabled}):l})})});z.displayName="AccordionItem";var F=(0,d.G)(function(e,n){let{getButtonProps:l}=N(),t=l(e,n),s={display:"flex",alignItems:"center",width:"100%",outline:0,...y().button};return(0,i.jsx)(h.m.button,{...t,className:(0,T.cx)("chakra-accordion__button",e.className),__css:s})});F.displayName="AccordionButton";var G=l(92578);function Z(e){let{isOpen:n,isDisabled:l}=N(),{reduceMotion:s}=D(),r=(0,T.cx)("chakra-accordion__icon",e.className),a={opacity:l?.4:1,transform:n?"rotate(-180deg)":void 0,transition:s?void 0:"transform 0.2s",transformOrigin:"center",...y().icon};return(0,i.jsx)(t.J,{viewBox:"0 0 24 24","aria-hidden":!0,className:r,__css:a,...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}Z.displayName="AccordionIcon";var K=l(35486),O=l(41843),J=l(63061),U=e=>null!=e&&parseInt(e.toString(),10)>0,B={exit:{height:{duration:.2,ease:K.Lj.ease},opacity:{duration:.3,ease:K.Lj.ease}},enter:{height:{duration:.3,ease:K.Lj.ease},opacity:{duration:.4,ease:K.Lj.ease}}},$={exit:({animateOpacity:e,startingHeight:n,transition:l,transitionEnd:i,delay:t})=>{var s;return{...e&&{opacity:U(n)?1:0},height:n,transitionEnd:null==i?void 0:i.exit,transition:null!=(s=null==l?void 0:l.exit)?s:K.p$.exit(B.exit,t)}},enter:({animateOpacity:e,endingHeight:n,transition:l,transitionEnd:i,delay:t})=>{var s;return{...e&&{opacity:1},height:n,transitionEnd:null==i?void 0:i.enter,transition:null!=(s=null==l?void 0:l.enter)?s:K.p$.enter(B.enter,t)}}},R=(0,S.forwardRef)((e,n)=>{let{in:l,unmountOnExit:t,animateOpacity:s=!0,startingHeight:r=0,endingHeight:a="auto",style:o,className:c,transition:d,transitionEnd:u,...x}=e,[h,m]=(0,S.useState)(!1);(0,S.useEffect)(()=>{let e=setTimeout(()=>{m(!0)});return()=>clearTimeout(e)},[]),(0,T.ZK)({condition:Number(r)>0&&!!t,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});let p=parseFloat(r.toString())>0,j={startingHeight:r,endingHeight:a,animateOpacity:s,transition:h?d:{enter:{duration:0}},transitionEnd:{enter:null==u?void 0:u.enter,exit:t?null==u?void 0:u.exit:{...null==u?void 0:u.exit,display:p?"block":"none"}}},f=!t||l,g=l||t?"enter":"exit";return(0,i.jsx)(O.M,{initial:!1,custom:j,children:f&&(0,i.jsx)(J.E.div,{ref:n,...x,className:(0,T.cx)("chakra-collapse",c),style:{overflow:"hidden",display:"block",...o},custom:j,variants:$,initial:!!t&&"exit",animate:g,exit:"exit"})})});R.displayName="Collapse";var H=(0,d.G)(function(e,n){let{className:l,motionProps:t,...s}=e,{reduceMotion:r}=D(),{getPanelProps:a,isOpen:o}=N(),c=a(s,n),d=(0,T.cx)("chakra-accordion__panel",l),u=y();r||delete c.hidden;let x=(0,i.jsx)(h.m.div,{...c,__css:u.panel,className:d});return r?x:(0,i.jsx)(R,{in:o,...t,children:x})});H.displayName="AccordionPanel";var V=l(16772),P=l.n(V),X=l(85634);l(6014),l(45489);var Y=l(27636),q=l(71106),W=l(61534),Q=l.n(W),ee=l(6163),en=l(15490),el=l(12721),ei=l(89352);function et(e){let{pid:n}=e,{data:l}=(0,Y.xD)(n);return(0,i.jsxs)("li",{children:[(0,i.jsxs)("b",{children:["name: ",null==l?void 0:l.name]}),(0,i.jsx)("br",{}),(0,i.jsxs)("b",{children:["pid: ",n]}),(0,i.jsx)("br",{}),(0,i.jsxs)("b",{children:["val: ",JSON.stringify(null==l?void 0:l.val)]}),(0,i.jsx)("br",{}),(0,i.jsxs)("b",{children:["status: ",null==l?void 0:l.status]}),(0,i.jsx)("br",{}),(0,i.jsxs)("b",{children:["suspension: ",JSON.stringify(null==l?void 0:l.suspension)]}),(0,i.jsx)("br",{})]})}function es(e){let{mid:n}=e;(0,el.Z)();let{data:l}=(0,Y.b7)(n);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h1",{children:["ModuleInstances for ",n]}),(0,i.jsx)("ul",{children:null==l?void 0:l.procs.map(e=>(0,i.jsx)("li",{children:(0,i.jsx)(et,{pid:e})},e))})]})}let er=e=>(0,i.jsx)(t.J,{...e,viewBox:"0 0 200 200",children:(0,i.jsx)("path",{fill:"currentColor",d:"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0"})});var ea=()=>{let e=(0,en.useRouter)(),{data:n}=(0,Y.sT)(),l=(0,el.Z)();return(0,i.jsxs)(ei.Z,{children:[(0,i.jsxs)(P(),{children:[(0,i.jsx)("title",{children:X.TN}),(0,i.jsx)("meta",{name:"description",content:"Apeiro"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.svg"})]}),(0,i.jsxs)(X.gV,{children:[(0,i.jsxs)(s.U,{justify:"space-between",children:[(0,i.jsx)(r.X,{pb:4,size:"md",children:"Code"}),(0,i.jsx)(s.U,{children:(0,i.jsx)(Q(),{href:"/modules/new",children:(0,i.jsx)(a.z,{variant:"secondary",leftIcon:(0,i.jsx)(ee.xVi,{fontSize:"1.25rem"}),children:"New Function"})})})]}),(0,i.jsx)(o.K,{spacing:4,children:null==n?void 0:n.map(n=>(0,i.jsxs)(q.Z,{minH:0,p:4,bgColor:"bg-surface",children:[(0,i.jsxs)(s.U,{justify:"space-between",children:[(0,i.jsxs)(r.X,{size:"xs",children:[(0,i.jsx)(er,{mr:2,color:"green.500"}),n.name," \xa0"]}),(0,i.jsxs)(s.U,{children:[n.singleton&&(0,i.jsx)(j,{children:"Singleton"}),(0,i.jsxs)(g.x,{fontSize:"sm",as:"span",color:"muted",children:[n.id," \xb7"]}),(0,i.jsx)(Q(),{href:"/modules/".concat(n.id),children:(0,i.jsx)(a.z,{children:"Edit"})}),!n.singleton&&(0,i.jsx)(a.z,{variant:"primary",onClick:async i=>{let t=await l.spawn(n.id);e.push("/procs/".concat(t.id))},children:"Start New Instance"})]})]}),(0,i.jsx)(s.U,{pt:4,width:"100%",children:(0,i.jsx)(L,{width:"100%",allowToggle:!0,children:(0,i.jsx)(z,{children:e=>{let{isExpanded:l}=e;return l?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:(0,i.jsxs)(F,{children:[(0,i.jsx)(G.xu,{flex:"1",textAlign:"left",children:"Instances"}),(0,i.jsx)(Z,{})]})}),(0,i.jsx)(H,{pb:4,children:(0,i.jsx)(es,{mid:n.id})})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("h2",{children:(0,i.jsxs)(F,{children:[(0,i.jsx)(G.xu,{flex:"1",textAlign:"left",children:"Instances"}),(0,i.jsx)(Z,{})]})})})}})})})]},n.id))})]})]})}}}]);